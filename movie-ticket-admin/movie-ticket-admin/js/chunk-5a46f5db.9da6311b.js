(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5a46f5db"],{"087a":function(t,e,r){"use strict";r.r(e);var n=r("1da1"),a=(r("96cf"),r("159b"),r("f8b7")),o=r("5c96"),c={name:"OrderManage",data:function(){return{tableData:[],total:0,currentPage:1,dialogFormVisible:!1,dialogTitle:"",labelPosition:"left",input:"",searchInput:""}},created:function(){this.loadCurrentPageOrder(this.currentPage,8,"")},methods:{loadCurrentPageOrder:function(t,e,r){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.e)({pageNum:t,limit:e,keyword:r});case 2:c=n.sent,i=c.data,200===c.status&&200===i.state&&(o.tableData=i.data.beanList,o.total=i.data.tr,o.tableData.forEach((function(t){t.createTime=o.formatTime(t.createTime)})));case 6:case"end":return n.stop()}}),n)})))()},currentChange:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.currentPage=t,e.loadCurrentPageOrder(e.currentPage,8,e.searchInput);case 2:case"end":return r.stop()}}),r)})))()},search:function(){this.searchInput=this.input,this.loadCurrentPageOrder(1,8,this.searchInput)},handleDelete:function(t,e){var r=this;o.MessageBox.confirm("此操作将永久删除该订单所有信息, 是否继续？","提示").then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(n){var c,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("confirm"!==n){t.next=7;break}return t.next=3,Object(a.a)({orderId:e.id});case 3:c=t.sent,i=c.data,200===c.status&&200===i.state&&(o.Message.success("删除该订单成功！"),r.loadCurrentPageOrder(r.currentPage,8,r.searchInput));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log(t,e)},formatTime:function(t){return new Date(t).toLocaleString()}}},i=(r("cdcf"),r("2877")),u=Object(i.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"order-manage"}},[r("div",{staticClass:"top"},[r("el-col",{attrs:{span:12}},[r("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单号"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"},[t._v("搜索")])],1)],1),r("el-col",{attrs:{span:2,offset:1}})],1),r("div",{staticClass:"order-table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[r("el-table-column",{attrs:{label:"订单ID",align:"center",width:"70",prop:"id"}}),r("el-table-column",{attrs:{label:"商品ID",width:"70","show-overflow-tooltip":"",prop:"itemId"}}),r("el-table-column",{attrs:{label:"商品类型","show-overflow-tooltip":"",prop:"itemType"}}),r("el-table-column",{attrs:{label:"档期/影院 ID",width:"110","show-overflow-tooltip":"",prop:"relateId"}}),r("el-table-column",{attrs:{label:"补充信息",width:"150","show-overflow-tooltip":"",prop:"describe"}}),r("el-table-column",{attrs:{label:"订单号",width:"120",align:"center",prop:"orderId"}}),r("el-table-column",{attrs:{label:"购买用户","show-overflow-tooltip":"",align:"center",prop:"userNick"}}),r("el-table-column",{attrs:{label:"总价",align:"center",prop:"price"}}),r("el-table-column",{attrs:{label:"下单时间",width:"200","show-overflow-tooltip":"",prop:"createTime"}}),r("el-table-column",{attrs:{width:"100",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("撤销")])]}}])})],1)],1),t.tableData.length?r("div",{staticClass:"block"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":8,"page-count":t.total},on:{"current-change":t.currentChange}})],1):t._e()])}),[],!1,null,null,null);e.default=u.exports},"159b":function(t,e,r){var n=r("da84"),a=r("fdbc"),o=r("17c2"),c=r("9112");for(var i in a){var u=n[i],l=u&&u.prototype;if(l&&l.forEach!==o)try{c(l,"forEach",o)}catch(t){l.forEach=o}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,a=r("a640")("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"65f0":function(t,e,r){var n=r("861d"),a=r("e8b5"),o=r("b622")("species");t.exports=function(t,e){var r;return a(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!a(r.prototype)?n(r)&&(null===(r=r[o])&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"88df":function(t,e,r){},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,r){var n=r("0366"),a=r("44ad"),o=r("7b0b"),c=r("50c4"),i=r("65f0"),u=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,s=4==t,d=6==t,f=7==t,p=5==t||d;return function(h,b,m,g){for(var v,w,O=o(h),k=a(O),y=n(b,m,3),x=c(k.length),T=0,j=g||i,E=e?j(h,x):r||f?j(h,0):void 0;x>T;T++)if((p||T in k)&&(w=y(v=k[T],T,O),t))if(e)E[T]=w;else if(w)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:u.call(E,v)}else switch(t){case 4:return!1;case 7:u.call(E,v)}return d?-1:l||s?s:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},cdcf:function(t,e,r){"use strict";r("88df")},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},f8b7:function(t,e,r){"use strict";r.d(e,"e",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"g",(function(){return c})),r.d(e,"h",(function(){return i})),r.d(e,"b",(function(){return u})),r.d(e,"f",(function(){return l})),r.d(e,"d",(function(){return s})),r.d(e,"c",(function(){return d}));var n=r("a27e"),a=function(t){return Object(n.a)({url:"/admin/order/getOrders",method:"GET",params:t})},o=function(t){return Object(n.a)({url:"/admin/order/deleteOrder",method:"POST",data:t})},c=function(t){return Object(n.a)({url:"/admin/snack/getSnacks",method:"GET",params:t})},i=function(t){return Object(n.a)({url:"/admin/snack/addSnack",method:"POST",data:t})},u=function(t){return Object(n.a)({url:"/admin/snack/deleteSnack",method:"POST",data:t})},l=function(t){return Object(n.a)({url:"/admin/hall/getOptions",method:"GET",params:t})},s=function(t){return Object(n.a)({url:"/admin/order/getOrders",method:"GET",params:t})},d=function(t){return Object(n.a)({url:"/admin/snack/getSnacks",method:"GET",params:t})}}}]);